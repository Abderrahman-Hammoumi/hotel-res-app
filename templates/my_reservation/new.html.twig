{% extends 'base.html.twig' %}

{% block title %}{{ 'my_reservations.new'|trans }}{% endblock %}

{% block stylesheets %}
    <style>
        .booking-shell {
            position: relative;
            overflow: hidden;
            background: linear-gradient(120deg, #0d6efd, #0fd2a0);
            border-radius: 28px;
            padding: 28px 32px;
            color: #fff;
            box-shadow: 0 24px 48px rgba(0,0,0,0.12);
        }
        .booking-shell::before,
        .booking-shell::after {
            content: "";
            position: absolute;
            border-radius: 999px;
            background: rgba(255,255,255,0.18);
            filter: blur(12px);
        }
        .booking-shell::before {
            width: 180px;
            height: 180px;
            top: -60px;
            right: 18%;
        }
        .booking-shell::after {
            width: 140px;
            height: 140px;
            bottom: -40px;
            left: 12%;
        }
        .booking-card {
            background: #fff;
            border-radius: 18px;
            box-shadow: 0 22px 44px rgba(17, 24, 39, 0.12);
            border: 1px solid rgba(0,0,0,0.05);
            margin-top: -46px;
        }
        .section-title {
            font-size: 1.05rem;
            font-weight: 700;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        .section-title::after {
            content: "";
            width: 32px;
            height: 3px;
            border-radius: 99px;
            background: linear-gradient(90deg, #0d6efd, #0fd2a0);
        }
        .pill-btn {
            border: 2px solid rgba(255,255,255,0.7);
            color: #fff;
            border-radius: 999px;
            padding: 10px 18px;
            font-weight: 600;
        }
        .form-panel {
            border: 1px solid rgba(0,0,0,0.05);
            border-radius: 12px;
            padding: 16px;
            background: linear-gradient(180deg, #f9fafb, #fff);
        }
        .option-pill {
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 10px 12px;
            transition: all .15s ease;
        }
        .option-pill:hover {
            border-color: #0d6efd;
            box-shadow: 0 8px 18px rgba(13,110,253,0.12);
        }
        .option-pill label {
            cursor: pointer;
        }
        .submit-bar {
            background: linear-gradient(120deg, #0d6efd, #0fd2a0);
            border: none;
            font-weight: 700;
            letter-spacing: 0.2px;
            box-shadow: 0 12px 24px rgba(13,110,253,0.24);
        }
    </style>
{% endblock %}

{% block body %}
<div class="container my-4">
    <div class="booking-shell d-flex justify-content-between align-items-center flex-wrap gap-3 position-relative">
        <div class="position-relative" style="z-index: 1;">
            <p class="mb-1 text-uppercase small fw-semibold opacity-75">{{ 'my_reservations.new_booking'|trans }}</p>
            <h1 class="mb-1 fw-bold">{{ 'my_reservations.plan_stay'|trans }}</h1>
            <span class="opacity-85">{{ 'my_reservations.plan_stay_subtitle'|trans }}</span>
        </div>
        <a class="pill-btn text-decoration-none position-relative" style="z-index: 1;" href="{{ path('app_my_reservations') }}">{{ 'my_reservations.back'|trans }}</a>
    </div>

    <div class="booking-card p-4">
        {{ form_start(form) }}
        <div class="row g-4">
            <div class="col-md-6">
                <div class="section-title mb-3">{{ 'reservation.form.dates'|trans }}</div>
                <div class="form-panel">
                    <div class="mb-3">
                        {{ form_label(form.CheckIn, 'reservation.form.check_in'|trans) }}
                        {{ form_widget(form.CheckIn, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.CheckIn) }}
                    </div>
                    <div class="mb-0">
                        {{ form_label(form.CheckOut, 'reservation.form.check_out'|trans) }}
                        {{ form_widget(form.CheckOut, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.CheckOut) }}
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="section-title mb-3">{{ 'reservation.form.room'|trans }}</div>
                <div class="form-panel mb-3">
                    <div class="mb-0">
                        {{ form_label(form.room, 'reservation.form.select_room'|trans) }}
                        {{ form_widget(form.room, {'attr': {'class': 'form-select'}}) }}
                        {{ form_errors(form.room) }}
                    </div>
                </div>

                <div class="section-title mb-2">{{ 'reservation.form.extras'|trans }}</div>
                <p class="text-muted small mb-3">{{ 'reservation.form.extras_help'|trans }}</p>
                <div class="d-flex flex-column gap-2">
                    {% for optionField in form.options %}
                        <div class="option-pill d-flex align-items-center gap-2">
                            {{ form_widget(optionField, {'attr': {'class': 'form-check-input'}}) }}
                            {{ form_label(optionField, null, {'label_attr': {'class': 'mb-0 flex-grow-1 fw-semibold text-dark'}}) }}
                        </div>
                    {% endfor %}
                </div>
                {{ form_errors(form.options) }}
            </div>
        </div>

        <button class="btn btn-primary w-100 mt-4 submit-bar">{{ 'my_reservations.submit'|trans }}</button>
        {{ form_end(form) }}
    </div>
</div>
{% endblock %}
