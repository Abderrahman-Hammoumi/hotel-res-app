{% extends 'base.html.twig' %}

{% block title %}{{ 'nav.customers'|trans }}{% endblock %}

{% block body %}
<div class="mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h1 class="mb-0">{{ 'customers.title'|trans }}</h1>
        <a class="btn btn-primary" href="{{ path('app_customer_new') }}">{{ 'customers.add_customer'|trans }}</a>
    </div>

    <div class="card shadow-sm border-0">
        <div class="card-body p-0">
            <table class="table table-hover mb-0 align-middle">
                <thead class="table-dark">
                    <tr>
                        <th>#</th>
                        <th>{{ 'field.name'|trans }}</th>
                        <th>{{ 'field.email'|trans }}</th>
                        <th>{{ 'field.phone'|trans }}</th>
                        <th class="text-center">{{ 'rooms.actions'|trans }}</th>
                    </tr>
                </thead>
                <tbody>
                {% for customer in customers %}
                    <tr>
                        <td>{{ customer.id }}</td>
                        <td>{{ customer.FullName }}</td>
                        <td>{{ customer.email }}</td>
                        <td>{{ customer.phone ?: '-' }}</td>
                        <td class="text-center">
                            <a class="btn btn-sm btn-primary" href="{{ path('app_customer_show', {'id': customer.id}) }}">{{ 'action.show'|trans }}</a>
                            <a class="btn btn-sm btn-warning" href="{{ path('app_customer_edit', {'id': customer.id}) }}">{{ 'action.edit'|trans }}</a>
                            <a class="btn btn-sm btn-success" href="{{ path('app_reservation_new', {'customer': customer.id}) }}">{{ 'customers.add_reservation'|trans }}</a>
                        </td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="5" class="text-center text-muted py-3">{{ 'customers.none_found'|trans }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
